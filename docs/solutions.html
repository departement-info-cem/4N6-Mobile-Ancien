<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="page du cours professions informatiques">
        <meta name="author" content="D√©partement informatique, coll√®ge √âdouard Montpetit">
        <title>Probl√®mes fr√©quents</title>
        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <style> body { padding-top: 70px;}</style>
    </head>

    <body>

        <!-- Fixed navbar -->
        <nav class="navbar navbar-expand fixed-top navbar-light bg-dark" >
            <div class="container">
                <a class="navbar-brand text-light" href="#">Probl√®mes et solutions</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#theCollapse" aria-controls="theCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="theCollapse">
                    <ul class="navbar-nav ml-auto">
                        <li><a class="btn btn-outline-light ml-1" role="button" href="index.html" ><i class="fa fa-home" aria-hidden="true"></i></a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div>
                        <div>
							<h3>J'ai besoin d'aide pour installer...</h3>
                            <ul>
								<li><a target="_blank" href="https://youtu.be/b7MgJDd1Iks">Amazon Corretto</a></li>
								<li><a target="_blank" href="https://youtu.be/aWd160BjRYE">IntelliJ Idea</a></li>
								<li><a target="_blank" href="https://youtu.be/v10jAu1ELac">GitKraken</a></li>
							</ul>
							<h3>Aucun projet ne d√©marre</h3>
                            <p>
                                Vous ne devez pas avoir d'accent dans le nom de votre usager windows
                            </p>
							<h3>üÜïandroid:exported needs to be explicitly specified for element activity#androidx.test.core.</h3>
							<ol><li>Dans build.gradle changer compileSdkVersion et targetSdkVersion pour 30
							</li></ol>
							<code></code>
							<h3>üÜïSocket failed: EPERM (Operation not permitted)</h3>
							<ol><li>Trouver l'application de votre projet sur votre t√©l√©phone et la d√©sinstaller 
							compl√®tement, puis relancer votre application.
							</li></ol>
							<h3>üÜïMon projet BumbleBee fonctionne √† la maison, mais pas √† l'√©cole</h3>
							<ol>
							<li>Effacer le contenu de votre build.gradle niveau projet et mettre ceci √† la place</li>
							<code>buildscript {
									repositories {
										google()
										mavenCentral()
									}
									dependencies {
										classpath "com.android.tools.build:gradle:4.2.1"

									}
								}

								allprojects {
									repositories {
										google()
										mavenCentral()
										jcenter() 
									}
								}

								task clean(type: Delete) {
									delete rootProject.buildDir
								}
							</code>
							<li>Effacer le contenu de votre settings.gradle et mettre ceci √† la place</li>
							<code>rootProject.name = "My Application"
								include ':app'
							</code>
							</ol>
							<h3>Mon projet Artic Fox fonctionne √† la maison, mais pas √† l'√©cole</h3>
                            <ol>
                                <li>Vous devez mettre le projet sur le Bureau et non sur votre cl√© USB ou sur un disque dur externe</li>
                                <li>Aller dans Help > About et regarder le num√©ro de version (ex : 4.2.1)</li>
                                <li>Aller dans build.grable (niveau projet) et v√©rifier que le num√©ro de cette ligne correspond au num√©ro de version
									<br/>
									<code>    dependencies {
												classpath 'com.android.tools.build:gradle:4.2.1'
												}</code></li>
                            </ol>
							<h3>The minCompileSdk (31) specified in a dependency‚Äôs AAR metadata is greater than this module‚Äôs compileSdkVersion</h3>
							<ol>
							<li>Dans build.gradle niveau module, compileSdkVersion 30 -> compileSdkVersion 31</li>
							<li>Dans build.gradle niveau module, targetSdkVersion 30 -> targetSdkVersion 31</li>
							<li><b>!Changement!</b> <u>NE PAS TOUCHER</u> √† buildToolsVersion "30.0.3"</li>
							</ol>
							<p> Continuez avec l'√©tape ci-dessous </p>
							<h3>Manifest merger failed: Apps targeting Android 12 and higher are required to specify an explicit value for android: exported when the corresponding component has an intent filter defined</h3>
							<ol>
								<li>
								Aller dans le Manifest, ajouter android:exported="true" pour votre Activity d'accueil	
								| Exemple :<code> activity
									  android:name=".MainActivity"
									  android:exported="true"</code>
								 </li>
							</ol>
							<h3>Installed Build Tools revision 31.0.0 is corrupted </h3>
							<ol>
							<li>
							√Ä la maison, aller dans "C:\Users\votreUsager\AppData\Local\Android\Sdk\build-tools\31.0.0"
							<br/>
							√Ä l'√©cole ce sera dans "C:\Android\Sdk\build-tools\31.0.0"
							</li>
							<li> Copiez d8.bat et renommer le en dx.bat</li>
							<li> Allez dans le dossier lib, copiez d8.jar et renommez-le en dx.jar</li>
							</ol>
							<h3>Les archetypes maven ne s'affichent pas lors de la cr√©ation du projet</h3>
                            <p>
                                Essaie <strong>File</strong> > <strong>Invalide caches</strong> > <strong>Invalide and Restart</strong>
                            </p>
							
							<h3>Les tests ne sont pas d√©boguables (affiche "terminated unexpectedly")</h3>
							  <p>
                                Vous ne devez pas avoir d'accent dans le nom de vos m√©thodes, de votre package et de votre projet
                            </p>
							<p> Vous ne devez pas appeler votre classe de tests "test", car cela entre en conflit avec le nom du package "test"</p>
							 <h3>Mes tests unitaires ne s'ex√©cutent pas</h3>
                            <p>Dans le fichier build.gradle (dans le dossier app), v√©rifier que</p>
                            <ul>
                                <li>on a la d√©pendance androidTestImplementation 'androidx.test:core:1.1.1'</li>
                                <li>on a la d√©pendance
    androidTestImplementation 'androidx.test:runner:1.1.1'</li>
                                <li>la valeur de testInstrumentationRunner  est bien "androidx.test.runner.AndroidJUnitRunner"</li>
                                <li>exemple ici : https://github.com/jorisdeguet/RoomSQL/blob/RoomTransaction/app/build.gradle</li>
                            </ul> 
                            <h3>Mon projet ne d√©marre plus apr√®s un changement de machine</h3>
                            <p>
                                Essaie <strong>Build</strong> > <strong>Clean Project</strong>.
                            </p>
                            <p>
                                Essaie <strong>File </strong> > <strong>Invalidate Cache / Restart</strong> puis <em>Invalidate Cache / Restart</em>.
                            </p>
                            <p>
                                Dans le dossier du projet, entre dans le dossier app, ensuite  supprime le dossier <strong>build</strong>. Cela supprime tous les fichiers compil√©s et force √† recompiler l'ensemble de l'application.
                            </p>
                            <p>
                                Force un sync gradle. <a href="https://stackoverflow.com/questions/29565263/android-studio-how-to-run-gradle-sync-manually">ici pour les diff√©rentes versions</a>
                            </p>
                            <h3>Le projet d√©marre mais il y a du rouge partout</h3>
                            <p>
                                Essaie <strong>File </strong> > <strong>Invalidate Cache / Restart</strong> puis <em>Invalidate Cache / Restart</em>.
                            </p>
                            <h3>AndroidX</h3>
                            <p>
                                Si on utilise une librairie androidX, il faut toutes les migrer. Je ne peux plus utiliser les support v7 et v4, voir <a href="https://developer.android.com/jetpack/androidx/migrate">ici</a>
                            </p>
                            <p>
                                On doit mettre le <em>compileSdkVersion</em> √† 28 dans le build.gradle (celui du dossier app)
                            </p>
                            <h3>Je ne vois pas mon p√©riph√©rique au lancement de l'appli</h3>
                            <p>
                                Aller dans les options d√©veloppeur de la tablette, d√©sactiver D√©bogage USB, Annuler les autorisations relatives au ‚Ä¶, r√©activer D√©bogage USB
                            </p>
                            <p>
                                Essayer un autre c√¢ble, un autre appareil (demander √† un coll√®gue)
                            </p>
                            <p>Red√©marrer la tablette</p>
                            <p>Red√©marrer Android Studio</p>
                            <p>
                                Dans de Gestionnaire des t√¢ches (CTRL + SHIFT + ESCAPE), dans l‚Äôonglet D√©tails, arr√™ter tous les processus adb.exe
                            </p>
                            <p>
                                Red√©marrer la machine de d√©veloppement
                            </p>
                            <h3>√áa marche en run, √ßa ne marche pas en debug</h3>
                            <ol>
                                <li>Aller dans File > Settings</li>
                                <li>Tape instant run dans le champs de recherche</li>
                                <li>D√©cocher Enable Instant Run to hot swap ‚Ä¶.</li>
                            </ol>
                            <h3><em>Cannot sync project with gradle files</em></h3>
                            <p>
                                Essaie <strong>File </strong> > <strong>Invalidate Cache / Restart</strong> puis <em>Invalidate Cache / Restart</em>.
                            </p>
                            <h3><em>Do you want to uninstall the existing application?</em></h3>
                            <p>V√©rifie que l'application n'est pas d√©j√† sur le p√©riph√©rique. Si c'est le cas supprime la.</p>
                            <p>
                                Dans le dossier du projet, entre dans le dossier app, ensuite  supprime le dossier <strong>build</strong>. Cela supprime tous les fichiers compil√©s et force √† recompiler l'ensemble de l'application.
                            </p>
                            <p>
                                Essaie <strong>File </strong> > <strong>Invalidate Cache / Restart</strong> puis <em>Invalidate Cache / Restart</em>.
                            </p>
                           
                            <h3>Le projet est "syncing" mais tourne en boucle</h3>
                            <ol>
                                <li>Attendre 5min pour valider que ce n'est pas la machine</li>
                                <li>En bas √† droite, ouvrir le EVENT LOG</li>
                                <li>NDK Version is UNKNOWN --> pas grave</li>
                                <li>java lang nullpointerexception --> peut √™tre plusieurs choses (voir ci-dessous)</li>
                                <li>Tout d'abord, supprimer le dossier .idea et relancer Android Studio</li>
                                <li>Si √ßa ne fonctionne pas, aller dans AndroidManifest.xml</li>
                                <li>Si vous voyez le message suivant : Gradle project sync failed. Basic functionality will not work properly. </li>
                                <li>Cliquez sur 'Show Log in Explorer'. Ouvrez idea.log dans notepad++. Cherchez l'erreur en question (nullpointer dans ce cas-ci)</li>
                            </ol>
                           Exemple : Module 'app': platform 'android-28' not found. Gradle sync failed: java.lang.NullPointerException (7 s 897 ms) 
java.lang.NullPointerException at org.jetbrains.android.sdk.AndroidSdkData.getSdkData(AndroidSdkData.java:117)
                            <br/>
                            <strong>Solution </strong> : Vous n'avez pas la bonne version de SDK d'install√©. Cliquez sur SDK Manager pour l'installer. Puis file - invalidate cache and restart pour red√©marrer
                           
                            <h3>Je suis incapable d'ajouter un "package" ou une "class" (le menu offre seulement un folder ou un file)</h3>
                            <ol>
                                <li>Clic droit sur le dossier java</li>
                                <li>Mark Directory As -> Source Root.</li>
                            </ol>
						
							<h3>Je n'arrive pas √† faire fonctionner la librairie MPChart</h3>
                            <ol>
                                <li>Assurez-vous d'avoir ajout√© les deux lignes de code suivantes</li>
									<ul><li><code>dependencies {implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'} // Dans le fichier build.gradle(module)</code></li>
									<li> Si vous avez Android Studio 4.2.1 ou plus ancien  : <code>repositories {maven { url 'https://jitpack.io' }} // Dans le fichier build.gradle(module)</code></li>
									<li> Si vous avez Android Studio 7.0.1 ou plus r√©cent (Artic Fox) : <code>repositories {maven { url 'https://jitpack.io' }} // Dans le fichier settings.gradle</code></li></ul>
									</ol>
									
                            </ol>
							
							<h3>Probl√®mes depuis l'ajout de d√©pendances ROOM </h3>
							<ol>
							<li>The minCompileSdk (31) specified in a
				dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)
				is greater than this module's compileSdkVersion (android-30).</li>

				Dans <b>build.gradle module</b>

				Supprimer la ligne suivante <br/>
	<code>
    implementation "androidx.room:room-paging:2.4.0-beta01"
	</code>
	<br/>
	<br/>
	Retester. √áa ne fonctionne toujours pas?
	<br/>
    <code>compileSdkVersion 30 ->     compileSdkVersion 31</code><br/>
	<code>targetSdkVersion 30 ->      targetSdkVersion 31</code>

<li>Manifest merger failed : Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported`</li>
Dans <b>Manifest</b>
<code>activity android:name=".MainActivity"
            android:exported="true"</code>
	
<li>Library dex files are not supported in multi-dex mode</li>
Dans <b>build.gradle module</b>
<code>dependencies {
implementation 'com.android.support:multidex:1.0.3'

    defaultConfig {
        multiDexEnabled true
		
</code>
<li>2 files found with path ‚Äòandroidsupportmultidexversion.txt‚Äô </li>
Dans <b>build.gradle module</b>
<code>
android {
packagingOptions{
pickFirst 'androidsupportmultidexversion.txt'
}
</code>
<li>Instance already used </li>
File > invalidate cache & restart > invalidate & restart</li>
</ol>
							
                        </div>
                    </div>
                </div>
            </div>
        </div>        
        <!-- /container -->

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    </body>

</html>
